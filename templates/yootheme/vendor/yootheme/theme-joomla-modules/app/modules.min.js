(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1:function(e,t){e.exports=UIkit.util},213:function(e,t,i){"use strict";i.r(t);var o=i(2),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{on:{resize:function(t){e.height=t.target.style.maxHeight}}},[i("div",{staticClass:"uk-modal-header uk-flex uk-flex-middle uk-flex-between"},[i("h2",{staticClass:"uk-modal-title uk-margin-remove-bottom"},[e._v(e._s(e.id?e.$t("Edit Module"):e.$t("Add Module"))+"\n            "),e.id?i("span",{staticClass:"uk-text-muted uk-margin-small-left"},[e._v(e._s(e.$t("(ID %id%)",{id:e.id})))]):e._e()]),e._v(" "),e.id&&e.Module.canDelete?i("button",{staticClass:"uk-button uk-button-danger uk-align-right uk-modal-close",attrs:{disabled:!e.loaded,type:"button"},on:{click:e.deleteModule}},[e._v(e._s(e.$t("Delete")))]):e._e()]),e._v(" "),i("div",{attrs:{"uk-overflow-auto":""}},[i("iframe",{ref:"iframe",style:{height:e.height,width:"100%"},attrs:{src:e.src}})]),e._v(" "),i("div",{staticClass:"uk-modal-footer uk-text-right"},[i("button",{staticClass:"uk-button uk-button-text uk-modal-close uk-margin-small-right",attrs:{disabled:e.disabled}},[e._v(e._s(e.$t("Cancel")))]),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:e.edit,expression:"edit"}],staticClass:"uk-button uk-button-primary",attrs:{disabled:e.disabled||!e.loaded,type:"button"},on:{click:function(t){return e.submit()}}},[e._v(e._s(e.$t("Save")))])])])};n._withStripped=!0;var l=i(50),u=i.n(l),s=i(1),a={inject:["Modal","Module"],config:["url","token"],props:{url:String,module:Object},data:function(e){var t=e.url,i=e.module,o=void 0===i?{}:i;return{src:e.$config.url+"/"+t+"&tmpl=component&"+(o.id?"task=module.edit&id="+o.id:"view=select"),height:"500px",edit:!!o,loaded:!1,disabled:!1,id:o.id}},mounted:function(){var e=this;Object(s.once)(this.Modal.$el,"beforehide",function(t){var i=e.$refs.iframe.contentWindow;e.edit&&(t.preventDefault(),i.addEventListener("unload",function(){return e.$emit("resolve")}),e.submit("cancel"))}),this.$refs.iframe.addEventListener("load",function(t){var i=t.target;return e.load(i)})},methods:{load:function(e){var t=this,i=e.contentDocument,o=e.contentWindow.Joomla;this.edit=!!o,this.loaded=!0,this.disabled=!1,i.body.style.padding="30px",Object(s.once)(i,"submit",'[name="adminForm"]',function(){t.disabled=!0,Object(s.once)(t.$refs.iframe,"load",function(e){var i=e.target.contentWindow.location;t.id=new u.a(i.search).get("id"),t.$trigger("updateModule")})}),Object(s.$$)("#new-modules-list a",i).forEach(function(e){return e.href=e.href+"&tmpl=component"})},submit:function(e,t){void 0===e&&(e="apply"),(void 0===t?this.$refs.iframe:t).contentWindow.Joomla.submitbutton("module."+e)},deleteModule:function(){var e,t=this;this.$http.post(this.$config.url+"/"+this.url,(e={cid:[this.id],task:"modules.trash"},e[this.$config.token]=1,e),{emulateJSON:!0}).then(function(){return t.$trigger("updateModule")})}}},r=i(0),d=Object(r.a)(a,n,[],!1,null,null,null);d.options.__file="node_modules/yootheme/modules/theme-joomla-modules/app/components/ModuleModal.vue";var c=d.exports,m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"uk-flex uk-flex-middle uk-flex-between uk-margin-medium"},[i("h2",{staticClass:"yo-sidebar-heading uk-margin-remove-bottom"},[e._v(e._s(e.$t("Builder")))]),e._v(" "),i("button",{staticClass:"uk-button uk-button-small uk-button-default",attrs:{type:"button"},on:{click:function(t){return e.$trigger("openLibrary",e.Builder)}}},[e._v(e._s(e.$t("Library")))])]),e._v(" "),i("h2",{directives:[{name:"show",rawName:"v-show",value:!e.Builder.empty,expression:"!Builder.empty"}],staticClass:"uk-h1 uk-text-truncate"},[e._v(e._s(e.title))]),e._v(" "),i("Savebar",{directives:[{name:"show",rawName:"v-show",value:e.Builder.modified,expression:"Builder.modified"}],on:{cancel:e.cancel,save:e.save}}),e._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:e.Builder.empty,expression:"Builder.empty"}],staticClass:"uk-text-muted"},[e._v(e._s(e.$t("Create a new page layout from a collection of ready-to-use elements. Or browse the layout library and choose one of the pre-built layouts as a starting point. You can also save your own layouts into the Layout Library and reuse them later.")))]),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:e.Builder.empty,expression:"Builder.empty"}],staticClass:"uk-button uk-button-default uk-width-1-1",attrs:{type:"button"},on:{click:e.empty}},[e._v(e._s(e.$t("New Layout")))]),e._v(" "),i("Layout",{attrs:{node:e.Builder.node}})],1)};m._withStripped=!0;var v=i(246),h=i(252),p=i(261);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e}).apply(this,arguments)}var b={components:{Layout:v.a,Savebar:h.a},models:{Builder:p.a},props:{id:String,title:String,content:Object},created:function(){this.Builder.prefix="module-"+this.id+"#",this.Builder.reset(this.content),this.Builder.$on("change",this.load)},methods:{load:function(){this.$trigger("loadPreview",{module:{id:this.id,content:JSON.stringify(this.Builder.node)}})},save:function(){var e=this,t=this.Builder.node;return this.$trigger("replaceImages",t,!0).then(function(i){i&&e.load(),e.$http.post("module",{id:e.id,content:t}).then(function(){return e.Builder.reset(t)})},function(){})},cancel:function(){this.Builder.reset()},empty:function(){this.Builder.set(f({},this.Builder.make("layout"),{children:[this.Builder.make("section")]}))}},events:{closePanel:function(e,t,i){"module-builder"===(void 0===i?{}:i).name&&this.Builder.modified&&(window.confirm(this.$t("The changes you made will be lost if you navigate away from this page."))?this.$trigger("loadPreview"):t.close=!1)}}},_=Object(r.a)(b,m,[],!1,null,null,null);_.options.__file="node_modules/yootheme/modules/theme-joomla-modules/app/components/ModuleBuilder.vue";var g=_.exports,y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.onlyVisible,expression:"onlyVisible"}],staticClass:"uk-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.onlyVisible)?e._i(e.onlyVisible,null)>-1:e.onlyVisible},on:{change:function(t){var i=e.onlyVisible,o=t.target,n=!!o.checked;if(Array.isArray(i)){var l=e._i(i,null);o.checked?l<0&&(e.onlyVisible=i.concat([null])):l>-1&&(e.onlyVisible=i.slice(0,l).concat(i.slice(l+1)))}else e.onlyVisible=n}}}),e._v(" "+e._s(e.$t("Visible on this page"))+"\n    ")]),e._v(" "),i("p",{staticClass:"uk-text-muted uk-margin-small"},[e._v(e._s(e.$t("Only display modules that are published and visible on this page.")))]),e._v(" "),e._l(e.positions,function(t){var o=t.name,n=t.modules;return n.length?[i("h3",{key:"heading-"+o,staticClass:"yo-sidebar-subheading"},[e._v(e._s(o))]),e._v(" "),i("ul",{key:"list-"+o,staticClass:"uk-nav uk-nav-default yo-sidebar-marginless uk-text-capitalize yo-nav-iconnav"},e._l(n,function(t){return i("li",{key:t.id,class:{"yo-highlight":!e.onlyVisible&&e.get(t),"uk-disabled":!e.Module.canEdit},on:{mouseenter:function(i){return e.hover(t,i)},mouseleave:function(i){return e.hover(t,i)}}},[i("a",{attrs:{href:"#"},on:{click:function(i){i.preventDefault(),e.Module.canEdit&&e.edit(t)}}},[e._v(e._s(t.title))]),e._v(" "),"mod_yootheme_builder"===t.module?i("button",{staticClass:"uk-position-center-right uk-position-small uk-button uk-button-default uk-button-small",attrs:{type:"button"},on:{click:function(i){i.preventDefault(),e.Module.canEdit&&e.editBuilder(t)}}},[e._v(e._s(e.$t("Builder")))]):e._e()])}),0)]:e._e()}),e._v(" "),e.Module.canCreate?i("button",{staticClass:"uk-button uk-button-default uk-width-1-1 uk-margin-medium-top",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.add()}}},[e._v(e._s(e.$t("New Module")))]):e._e()],2)};y._withStripped=!0;var k={inject:["Module"],props:{panel:Object},data:function(){return{visible:{},onlyVisible:!1}},computed:{positions:function(){var e=this;return this.Module.positions.map(function(t){return{name:t||"none",modules:e.Module.modules.filter(function(i){return!(e.onlyVisible&&void 0===e.get(i)||i.position!==t&&(t||~e.Module.positions.indexOf(i.position)))})}})}},methods:{get:function(e){var t=e.id;return this.visible[t]},add:function(){this.$trigger("addModule")},edit:function(e){this.$trigger("editModule",e)},editBuilder:function(e){this.$trigger("editBuilder",e)},hover:function(e,t){this.$trigger("hoverModule",[e,t])}}},w=Object(r.a)(k,y,[],!1,null,null,null);w.options.__file="node_modules/yootheme/packages/joomla/src/components/ModuleSection.vue";var $={extends:w.exports,methods:{add:function(){this.$modal(c,{url:this.panel.url}).show({container:!0})},edit:function(e){this.$modal(c,{module:e,url:this.panel.url}).show({container:!0})},editBuilder:function(e){var t=this,i=e.id,o=e.title;this.$http.get("module",{params:{id:i}}).then(function(e){var n=e.body.content,l={name:"module-builder",component:g,title:"",width:500,heading:!1,props:{id:i,title:o,content:n||{}}};t.$trigger("openPanel",l)})},hover:function(e,t){var i=t.type,o=this.get(e);o&&Object(s.toggleClass)(o,"yo-hover","mouseenter"===i)}},events:{readyPreview:function(e,t){var i=t.document,o={};Object(s.$$)('[id^="module-"]',i).forEach(function(e){return o[e.id.substring(7)]=e}),this.visible=o},updateModule:function(){var e=this;Promise.all([this.$http.get("modules").then(function(t){var i=t.body;return e.$set(e.Module,"modules",i)}),this.$http.get("positions").then(function(t){var i=t.body;return e.$set(e.Module,"positions",i)})]).then(function(){return e.$trigger("loadPreview")})}}},M=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("select",e._b({directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"uk-select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.value=t.target.multiple?i:i[0]}}},"select",e.attributes,!1),[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("- Select Module -")))]),e._v(" "),e._l(e.groups,function(t,o){return i("optgroup",{key:o,attrs:{label:o}},e._l(t,function(t){var o=t.id,n=t.title;return i("option",{key:o,domProps:{value:o}},[e._v(e._s(n)+" - "+e._s(o))])}),0)})],2)};M._withStripped=!0;var x=i(4),j=i(225),B=i(258),C=i(257),O={extends:x.a,inject:["Module"],computed:{groups:function(){var e=this;return Object(j.a)(this.Module.types,function(t,i,o){var n=Object(B.a)(e.Module.modules,{module:o});return n.length&&(t[i]=n),t},{})}},watch:{value:function(e){var t=Object(C.a)(this.Module.modules,["id",e]);this.$set(this.values,"type",t?t.module:"")}}},S=Object(r.a)(O,M,[],!1,null,null,null);S.options.__file="node_modules/yootheme/modules/theme-joomla-modules/app/components/SelectModule.vue";var E=S.exports,P=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("select",e._b({directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"uk-select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.value=t.target.multiple?i:i[0]}}},"select",e.attributes,!1),[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("- Select Position -")))]),e._v(" "),e._l(e.filter(e.Module.positions),function(t){return i("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})],2)};P._withStripped=!0;var V={extends:x.a,inject:["Module"],methods:{filter:B.a}},N=Object(r.a)(V,P,[],!1,null,null,null);N.options.__file="node_modules/yootheme/modules/theme-joomla-modules/app/components/SelectPosition.vue";var L=N.exports;o.a.merge("Customizer",{components:{"joomla-modules":$},models:{Module:{name:"ModuleModel",config:["module"],data:function(e){return e.$config.module}}}}),o.a.component("field-select-module",E),o.a.component("field-select-position",L)},7:function(e,t){e.exports=UIkit}},[[213,1,0]]]);